<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.seig.backend.mapper.WarehouseZoneMapper">

    <resultMap id="BaseResultMap" type="com.seig.backend.entity.storage.WarehouseZone">
        <id column="zone_id" jdbcType="INTEGER" property="zoneId"/>
        <result column="warehouse_id" jdbcType="INTEGER" property="warehouseId"/>
        <result column="zone_code" jdbcType="VARCHAR" property="zoneCode"/>
        <result column="zone_name" jdbcType="VARCHAR" property="zoneName"/>
        <result column="zone_type" jdbcType="TINYINT" property="zoneType"/>
        <result column="gsp_zone_type" jdbcType="TINYINT" property="gspZoneType"/>
        <result column="risk_level" jdbcType="TINYINT" property="riskLevel"/>
        <result column="temperature_min" jdbcType="DECIMAL" property="temperatureMin"/>
        <result column="temperature_max" jdbcType="DECIMAL" property="temperatureMax"/>
        <result column="humidity_min" jdbcType="DECIMAL" property="humidityMin"/>
        <result column="humidity_max" jdbcType="DECIMAL" property="humidityMax"/>
        <result column="current_temp" jdbcType="DECIMAL" property="currentTemp"/>
        <result column="current_humidity" jdbcType="DECIMAL" property="currentHumidity"/>
        <result column="parent_zone_id" jdbcType="INTEGER" property="parentZoneId"/>
        <result column="is_narcotic" jdbcType="TINYINT" property="isNarcotic"/>
        <result column="is_double_lock" jdbcType="TINYINT" property="isDoubleLock"/>
        <result column="is_access_control" jdbcType="TINYINT" property="isAccessControl"/>
        <result column="status" jdbcType="TINYINT" property="status"/>
        <result column="remark" jdbcType="VARCHAR" property="remark"/>
        <result column="created_time" jdbcType="TIMESTAMP" property="createdTime"/>
        <result column="updated_time" jdbcType="TIMESTAMP" property="updatedTime"/>
        </resultMap>
    <select id="selectByConditions" resultType="int">
        SELECT container_id
        FROM warehouse_containers
        WHERE zone_id IN
        <foreach item="zoneId" collection="zoneIds" open="(" separator="," close=")">
            #{zoneId}
        </foreach>
        AND is_refrigerated = #{isRefrigerated}
        AND is_narcotic_safe = #{isNarcoticSafe}
    </select>

</mapper>